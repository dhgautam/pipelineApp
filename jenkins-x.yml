buildPack: none
pipelineConfig:
  pipelines:
    pullRequest:
      pipeline:
        agent:
          image: gcr.io/jenkinsxio/builder-go
        stages:
        - name: release
          steps:
          - command: echo dummy step preview
            dir: /workspace/source
            name: start-preview
          - command: pwd; whoami; ls -l
            dir: /workspace/source
            name: preview-validation
          - command: ./pipeline.sh
            dir: /workspace/source
            name: run-preview
    release:
      pipeline:
        agent:
          image: gcr.io/jenkinsxio/builder-go
        stages:
        - name: release
          steps:
          - command: echo dummy step release
            dir: /workspace/source
            name: promote-staging
          - command: pwd; whoami; ls -l
            dir: /workspace/source
            name: staging-validation
          - command: ./pipeline.sh
            dir: /workspace/source
            name: run-staging
    feature:
      pipeline:
        agent:
          image: gcr.io/jenkinsxio/builder-go
        stages:
          - name: release
            steps:
            - command: echo dummy step feauture
              dir: /workspace/source
              name: promote-feature
            - command: pwd; whoami; ls -l
              dir: /workspace/source
              name: feature-validation
            - command: ./pipeline.sh
              dir: /workspace/source
              name: run-feature